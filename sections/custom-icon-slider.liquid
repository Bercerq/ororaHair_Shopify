<div class="home_custom_slider">
    <div class="h_custom_slider_position">
        {% if section.settings.title != blank %}
            <h2>{{ section.settings.title }}</h2>

        {% endif %}
        <div class="h_custom_slider" >
            {% for block in section.blocks %}
                <div class="hr_slider_item">
                    <img src="{{ block.settings.img | img_url: 'master' }}">
                    <div>{{ block.settings.custom }}</div>
                </div>
            {% endfor %}
        </div>
        {% comment %}
            <img class="p_custom_slider_bg1_element" src="{{ section.settings.bg1_element | img_url: 'master' }}">
            <img class="p_custom_slider_bg2_element" src="{{ section.settings.bg2_element | img_url: 'master' }}">
        {% endcomment %}
    </div>
</div>
{% assign blocks_size = section.blocks.size %}
<!-- <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery.marquee/1.3.1/jquery.marquee.min.js"></script> -->
<script>
//     $('.h_custom_slider').marquee({
//     duration: 10000,
//     gap: 1,
//     delayBeforeStart: 0,
//     direction: 'left',
//     duplicated: true
// });
    // $(document).ready(function(){
        $('.h_custom_slider').slick({
            infinite: true,
            {% if blocks_size <= 6 %}
            slidesToShow: {{blocks_size}},
            {% else %}
            slidesToShow: 6,
            {% endif %}
            slidesToScroll: 1,
            centerMode:false,
            focusOnSelect: false,
            dots:false,
            autoplaySpeed: 0,
            speed: 6000,
            draggable: false,
            pauseOnHover: false,
            cssEase: 'linear',
            arrows:false,
            autoplay: true,
            swipe: false,
            useTransform: false,
            responsive: [
                {
                    breakpoint: 1100,
                    settings: {
                        slidesToShow: 4,
                        speed: 4000

                    }
                },
                {
                    breakpoint: 460,
                    settings: {
                        slidesToShow: 3,
                        arrows:false,
                        speed: 4000,
                        waitForAnimate : true,
                        pauseOnFocus : false,
                        pauseOnHover : false,
                        swipe : false

                    }
                }
            ]
        });
    // });


</script>

<style>
    .slick-slider .slick-track, .slick-slider .slick-list{
        transition-timing-function: linear !important;
        -webkit-transition-timing-function: linear !important;
    }
    .home_custom_slider{
        display: flex;
        width: 100%;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        background: {{ section.settings.bg_color }};
        overflow: hidden;
    }
    .slick-dots > li:only-child {
        display: none;
    }

    .h_custom_slider_position{
        display: flex;
        width: 100%;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        max-width: 1206px;
        padding: 0 15px;
        position: relative;
    }
    .h_custom_slider ul{
        list-style: none;
        display: flex;
        text-align: center;
        padding: 0;
        margin: 30px auto 0;
        width: 100%;
        justify-content: center;
    }
    .slick-dots button{
        display: none;
    }
    .p_custom_slider_bg1_element{
        position: absolute;
        bottom: 0;
        right: -230px;
    }
    .p_custom_slider_bg2_element{
        display: none;
    }
    .h_custom_slider_position h2{
        font-style: normal;
        font-size: 20px;
        line-height: 41px;
        text-align: center;
        margin: 0 0 40px;
        font-family: 'DIN Neuzeit Grotesk';
    }
    .h_custom_slider{
        display: flex;
        width: 100%;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
        z-index: 1;
    }
    .hr_slider_item{
        display: flex !important;
        width: 100%;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: #FFFFFF;
        border-radius: 10px;
        padding: 30px 18px;
        margin: 0 10px;
    }
    .hr_slider_item p{
        font-weight: normal;
        font-size: 14px;
        line-height: 18px;
        text-align: center;
        color: #3A3A3A;
        font-family: 'DIN Neuzeit Grotesk';
    }
    .hr_slider_item span{
        font-style: normal;
        font-weight: normal;
        font-size: 16px;
        line-height: 19px;
        text-align: center;
        color: #565656;
        min-height: 76px;
        margin: 24px 0;
    }
    .hr_slider_item img{
        margin: auto;
        max-height: {{ section.settings.img_size }}px;
        width: auto;
    }
    .h_custom_slider .slick-dots{
        bottom: -58px;
    }
    .h_custom_slider .slick-dots li{
        background: #CECECE;
        border-radius: 100%;
        width: 8px;
        height: 8px;
        margin-left: 4px;
        margin-right: 4px;
        cursor: pointer;
    }
    .h_custom_slider .slick-dots .slick-active{
        background: #f9c8c2;
    }
    @media screen and (max-width:850px) {
        .h_custom_slider_position{
            padding: 0 3px 0;
        }
        .h_custom_slider_position h2{
            max-width: 300px;
            margin: 0 0 40px;
            font-size: 20px;
            line-height: 26px;
            z-index: 1;
        }
        .hr_slider_item{
            padding: 10px 5px;
            margin: 0 5px;

        }
        .hr_slider_item p {
            font-size: 10px;
            line-height: 14px;
        }

        .p_custom_slider_bg1_element{
            bottom: 0px;
            max-width: 266px;
            right: -105px;
        }
        .p_custom_slider_bg2_element{
            display: block;
            position: absolute;
            left: -155px;
            top: -50px;
        }
    }
</style>

{% schema %}
    {
    "name": "Icons slider",
    "settings": [

    {
    "id":"title",
    "type":"text",
    "label":"Title"
    },
    {
        "type": "range",
        "id": "img_size",
        "min": 24,
        "max": 150,
        "step": 2,
        "unit": "px",
        "label": "Icon size",
        "default": 74
    },
    {
    "id":"bg_color",
    "type":"color_background",
    "label":"Background color"
    }

    ],
    "blocks": [
    {
    "type":"select",
    "name":"Slide with icon",
    "settings":[
    {
    "id":"custom",
    "type":"richtext",
    "label":"Text"
    },
    {
        "id":"img",
        "type":"image_picker",
        "label":"Image"
    }

    ]
    }
    ],
    "presets": [
    {
    "name": "Icons slider",
    "category": "Custom"
    }
    ]
    }
{% endschema %}